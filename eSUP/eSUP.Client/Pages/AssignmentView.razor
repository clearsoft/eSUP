@page "/assign-planner/{plannerid}"
@rendermode @(new InteractiveWebAssemblyRenderMode(false))

@using MudBlazor
@using eSUP.DTO

<MudPopoverProvider/>
<MudText Typo="Typo.h3" Color="Color.Primary">Assign Users</MudText>
<MudDataGrid @ref="userGrid" T="UserInformationDto" MultiSelection="true" Filterable="true" FilterMode="DataGridFilterMode.Simple" @bind-SelectedItems="@vm.SelectedUsers" ServerData="vm.LoadUsersFromServerAsync" Bordered="true" Dense>
    <ToolBarContent>
        <MudGrid>
            <MudItem xs="10">
                <MudText Typo="Typo.h5" Class="d-flex align-center mud-width-full">@vm.Assignment!.Title</MudText>
            </MudItem>
            <MudItem xs="1">
                <MudButton Variant=Variant.Filled Color="Color.Secondary" OnClick="ReturnToPlannerPage">Cancel</MudButton>
            </MudItem>
            <MudItem xs="1">
                <MudButton Variant=Variant.Filled Color="Color.Success" OnClick="SaveAssignmentAsync">Save</MudButton>
            </MudItem>
        </MudGrid>
    </ToolBarContent>
    <Columns>
        <SelectColumn T="UserInformationDto"/> 
        <PropertyColumn Property="x => x.UserId" Title="ID" Hidden="true" />
        <PropertyColumn Property="x => x.FirstName" Title="First Name" />
        <PropertyColumn Property="x => x.LastName" Title="Last Name" />
        <PropertyColumn Property="x => x.Group" Title="Group"/>
        <PropertyColumn Property="x => x.Role" Title="Role" />
        <PropertyColumn Property="x => x.Email" Title="Email" />
    </Columns>
</MudDataGrid>




